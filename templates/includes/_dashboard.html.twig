{# ------------------------------------------------ #}
{# Dashboard include #}
{# ------------------------------------------------ #}

 {# @var dashboard \Drupal\mollo_dashboard\Controller\MolloDashboardController #}
 {# @var view \Drupal\mollo_dashboard\Controller\MolloDashboardController #}
 {# @var view = ['enable'=>'', 'size'=>'', 'weight'=>'', 'title'=>'', 'info'=>'' ] #}

<!-- Add you custom twig html here -->
{{ attach_library('mollo_dashboard/card') }}


{{ dd(_context) }}

<div class="dashboard">
  {# Header #}
  <header class="dashboard-header">


    {# Greeting #}
    <blockquote class="user-dashboard-greeting">{{ greeting_message }}</blockquote>

    {# ------------------------------------------------ #}
    {# Toolbar #}
    {# ------------------------------------------------ #}

    <div class="dashboard-toolbar">


        {# Clear Cache #}
        {% if toolbar.clear_cache ==1 %}
          {{ drupal_block('clear_cache') }}
        {% endif %}


        {# add Buttons #}
          <div>
        {% for add in toolbar.add %}
          {% if add.enabled %}
            <a role="button" class="button button--small mollo-no-break"
               href="/node/add/{{ add.name }}?destination={{ add.destination }}">
              <i class="fas fa-plus-circle"></i> {{ add.label }}
            </a>
          {% endif %}
        {% endfor %}
          </div>

        {# other Buttons #}
      <div>
      {% for other in toolbar.other %}
          {% if other.enabled %}
            <a role="button" class="button button--small mollo-no-break {{ other.use_ajax ? 'use_ajax' }}"
               href="{{ other.path }}">
              <i class="{{ other.icon }}"></i> {{ other.label }}
            </a>
          {% endif %}
        {% endfor %}
      </div>

      {# Unig Gallery #}
      {% if toolbar.unig %}
        <a role="button" class="button button--small  mollo-no-break" href="/unig">
          <i class="fas fa-images"></i> Gallery
        </a>
      {% endif %}

        {# Media Browser #}
        {% if toolbar.media_browser %}
          <a role="button" class="button button--small  mollo-no-break" href="/admin/content/media-grid">
            <i class="fas fa-images"></i> Media
          </a>
        {% endif %}

        {# Logout #}
        {% if toolbar.logout %}
          <a role="button" class="button button--small  mollo-no-break mollo-dashboard-button-logout"
             href="/user/logout">
            <i class="fas fa-user"></i> Logout
          </a>
        {% endif %}


    </div>


  </header>


  {# ------------------------------------------------ #}
  {# Main #}
  {# ------------------------------------------------ #}


  <main class="mollo-dashboard-main">

    {% for dashboard in dashboards %}
      <article class="card mollo-dashboard-card">
        <header class="card-header">
          <h4 class="card-title">
            <span class="card-title-icon"><i class="{{ dashboard.icon }}"></i></span>
            {{ dashboard.title }}
          </h4>
          <div class="card-toolbar">

            {# new #}
            {% if dashboard.add_new.enable %}
              <a role="button" class="card-toolbar-item button button--small card-toolbar-item-button"
                 href="/node/{{ dashboard.add_new.node_type }}/add">
                <span class="card-toolbar-item-button-icon"> <i class="fas fa-plus"> </i></span>
              </a>
            {% endif %}

            {# List #}
            {% if dashboard.list.enable %}
              <a role="button" class="card-toolbar-item button button--small  card-toolbar-item-button "
                 href="/{{ dashboard.list.path }}">
                <span class="card-toolbar-item-button-icon"> <i class="fas fa-list"> </i></span>
              </a>
            {% endif %}

            {# Aditional Buttons #}
            {% for button in dashboard.buttons %}
              {% if button.enable %}

                <a role="button"
                   class="card-toolbar-item button button--small  card-toolbar-item-button {{ button.use_ajax ? 'use_ajax' }}"
                   href="{{ button.path }}">
                  <span class="card-toolbar-item-button-icon"> <i class="{{ button.icon }}"> </i></span>
                  <span class="card-toolbar-item-button-label">{{ button.label }}</span>
                </a>
              {% endif %}
            {% endfor %}
            {# Settings #}
          </div>
        </header>
        <main class="card-body">
          {{ drupal_view(dashboard.view_id, dashboard.display_id) }}
        </main>
        <footer class="card-footer">
        </footer>
      </article>
    {% endfor %}

  </main>

  {# ------------------------------------------------ #}
  {# Footer #}
  {# ------------------------------------------------ #}

  <footer>

  </footer>
</div>

{# ------- END User Dashboard ------- #}
