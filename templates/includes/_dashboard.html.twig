{# ------------------------------------------------ #}
{# Dashboard include #}
{# ------------------------------------------------ #}

 {# @var dashboard \Drupal\mollo_dashboard\Controller\MolloDashboardController #}
 {# @var view \Drupal\mollo_dashboard\Controller\MolloDashboardController #}
 {# @var view = ['enable'=>'', 'full_size'=>'', 'weight'=>'', 'title'=>'', 'info'=>'' ] #}

<!-- Add you custom twig html here -->
{{ attach_library('mollo_dashboard/card') }}


{{ dd(_context) }}

<div class="dashboard">
  {# Header #}
  <header class="dashboard-header">


    {# Greeting #}
    <blockquote class="user-dashboard-greeting">{{ greeting_message }}</blockquote>

    {# ------------------------------------------------ #}
    {# Toolbar #}
    {# ------------------------------------------------ #}

    <div class="dashboard-toolbar">


      {# Clear Cache #}
      {% if toolbar.clear_cache ==1 %}
        {{ drupal_block('clear_cache') }}
      {% endif %}


      {# add Buttons #}
      <div>
        {% for add in toolbar.add %}
          {% if add.enabled %}
            <a role="button" class="button button--small mollo-no-break"
               href="/node/add/{{ add.name }}?destination={{ add.destination }}">
              <i class="fas fa-plus-circle"></i> {{ add.label }}
            </a>
          {% endif %}
        {% endfor %}
      </div>

      {# other Buttons #}
      <div>
        {% for other in toolbar.other %}
          {% if other.enabled %}
            <a role="button" class="button button--small mollo-no-break {{ other.use_ajax ? 'use_ajax' }}"
               href="{{ other.path }}">
              <i class="{{ other.icon }}"></i> {{ other.label }}
            </a>
          {% endif %}
        {% endfor %}
      </div>

      {# Unig Gallery #}
      {% if toolbar.unig %}
        <a role="button" class="button button--small  mollo-no-break" href="/unig">
          <i class="fas fa-images"></i> Gallery
        </a>
      {% endif %}

      {# Media Browser #}
      {% if toolbar.media_browser %}
        <a role="button" class="button button--small  mollo-no-break" href="/admin/content/media-grid">
          <i class="fas fa-images"></i> Media
        </a>
      {% endif %}

      {# Logout #}
      {% if toolbar.logout %}
        <a role="button" class="button button--small  mollo-no-break mollo-dashboard-button-logout"
           href="/user/logout">
          <i class="fas fa-user"></i> Logout
        </a>
      {% endif %}


    </div>


  </header>


  {# ------------------------------------------------ #}
  {# Main #}
  {# ------------------------------------------------ #}


  <main class="mollo-dashboard-main">

    {# Top 1 #}
    <div class="row">
      <div class="container container-top-1">
        <div class="container-title">Top 1</div>
      </div>
    </div>

    {# Top 2 #}
    <div class="row">
      <div class="container container-top-2">
        <div class="container-title">Top 2</div>
      </div>
    </div>

    {# Top 3 #}
    <div class="row">
      <div class="container container-top-3">
        <div class="container-title">Top 3</div>
      </div>
    </div>

    <div class="row">
      {# left 1 #}
      <div class="container container-left-1">
        <div class="container-title">Left 1</div>
      </div>
      {# right 1 #}
      <div class="container container-right-1">
        <div class="container-title">Right 1</div>
      </div>
    </div>


    {# First all full length Boards #}
    {% for dashboard in dashboards %}

      {% if dashboard.full_size %}
        <div class="row">
          <div class="cell-fullsize">
            {% include '@mollo_dashboard/includes/_dashboard_article.html.twig' with dashboard %}
          </div>
        </div>
      {% endif %}
    {% endfor %}


    {# Second all 1 Columnes Boards #}
    <div class="row-grid">
      {% for dashboard in dashboards %}
        {% if not dashboard.full_size %}

          <div class="cell-variable">
            {% include '@mollo_dashboard/includes/_dashboard_article.html.twig' with dashboard %}
          </div>
        {% endif %}
      {% endfor %}
    </div>


    {# Second all 1 Columnes Boards #}
    {# {% set columne_counter = 1 %}
    {% for dashboard in dashboards %}
      {% if not dashboard.full_size %}
        {% if columne_counter == 1 %} <div class="row">{% endif %}
        <div class="cell">
          {% include '@mollo_dashboard/includes/_dashboard_article.html.twig' with dashboard %}
        </div>
        {% if columne_counter == 2 %}
          </div>
          {% set columne_counter = 1 %}
        {% else %}
          {% set columne_counter = columne_counter + 1 %}
        {% endif %}
      {% endif %}
    {% endfor %} #}

  </main>

  {# ------------------------------------------------ #}
  {# Footer #}
  {# ------------------------------------------------ #}

  <footer>

  </footer>
</div>

{# ------- END User Dashboard ------- #}
